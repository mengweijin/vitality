var p=(g,r,t)=>new Promise((c,s)=>{var e=a=>{try{n(t.next(a))}catch(l){s(l)}},i=a=>{try{n(t.throw(a))}catch(l){s(l)}},n=a=>a.done?c(a.value):Promise.resolve(a.value).then(e,i);n((t=t.apply(g,r)).next())});import{w as v,r as u,e as f,o as y,E as C,p as S,q as _,H as w,I as z,k as d,O as b,aa as k,a1 as x}from"./index-DcU5f0E9.js";import{g as L}from"./log-login-CYmbjmkt.js";import{useSecurityLogColumns as P}from"./hook-CWtCwcXI.js";const O=v({name:"SecurityLog",__name:"SecurityLog",setup(g){const r=u(!0),t=f({}),c=u(),s=u([]),e=f({total:0,pageSize:10,currentPage:1,background:!0,pageSizes:[10,20,30,50]}),{securityLogColumns:i}=P();function n(){return p(this,null,function*(){r.value=!0,t.current=e.currentPage,t.size=e.pageSize;const o=yield L(x(t));s.value=o.records,e.total=o.total,e.pageSize=o.size,e.currentPage=o.current,setTimeout(()=>{r.value=!1},200)})}function a(o){e.pageSize=o,n()}function l(o){e.currentPage=o,n()}return y(()=>{n()}),(o,m)=>{const h=C("pure-table");return S(),_("div",{class:b(["min-w-[180px]","ml-[50px]",d(k)()?"max-w-[100%]":"max-w-[90%]"])},[m[0]||(m[0]=w("h3",{class:"my-8"},"安全日志",-1)),z(h,{ref_key:"tableRef",ref:c,"row-key":"id","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:r.value,data:s.value,columns:d(i),pagination:e,"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onPageSizeChange:a,onPageCurrentChange:l},null,8,["loading","data","columns","pagination"])],2)}}});export{O as _};
