import{useDetailColumns as O}from"./detail-columns-ClvkZZhS.js";import{S as E}from"./vue-json-pretty-kRGc0fHA.js";import{u as I}from"./hooks-CU6ReGbj.js";import{d as P}from"./delete-Ce0TSdK5.js";import{bc as m,w as j,r as b,c as M,E as o,p as l,q as c,I as e,S as n,k as r,V as p,K as k,L as R,Q as U,R as v,T as g}from"./index-DcU5f0E9.js";const H=a=>m.get("/monitor/user-online/page",{params:a}),W=a=>m.post("/monitor/user-online/kick-out-by-username/"+a),$=a=>m.post("/monitor/user-online/kick-out-by-token",{data:a}),q={key:1},X=j({__name:"detail",props:{data:{default:()=>({})}},setup(a){const u=b(a.data),{detailColumns:h}=O(),y=b([{title:"ID",name:"id",json:!1,data:u.value.id}]),w=u.value.tokenSignList,C=M(()=>!1);function D(_,s){$({value:_.value}).then(()=>{this.tableData.splice(s,1)})}return(_,s)=>{const x=o("PureDescriptions"),f=o("el-scrollbar"),B=o("el-tab-pane"),S=o("el-tabs"),T=o("el-divider"),i=o("el-table-column"),V=o("el-button"),L=o("el-popconfirm"),N=o("el-table");return l(),c("div",null,[e(f,null,{default:n(()=>[e(x,{border:"",data:[u.value],columns:r(h),column:2},null,8,["data","columns"])]),_:1}),C.value?(l(),p(S,{key:0,modelValue:"errorMsg",type:"border-card",class:"mt-4"},{default:n(()=>[(l(!0),c(k,null,R(y.value,(t,d)=>(l(),p(B,{key:d,name:t.name,label:t.title},{default:n(()=>[e(f,{"max-height":"calc(100vh - 240px)"},{default:n(()=>[t.data!=null?(l(),c(k,{key:0},[t.json?(l(),p(r(E),{key:0,data:JSON.parse(t.data)},null,8,["data"])):(l(),c("div",q,U(t.data),1))],64)):v("",!0)]),_:2},1024)]),_:2},1032,["name","label"]))),128))]),_:1})):v("",!0),e(T,{"content-position":"left"},{default:n(()=>s[0]||(s[0]=[g("账号登录设备")])),_:1}),e(N,{data:r(w),"show-overflow-tooltip":"",border:"",style:{width:"100%"}},{default:n(()=>[e(i,{prop:"device",label:"设备类型",width:"120"}),e(i,{prop:"token",label:"Token"}),e(i,{prop:"tag",label:"Tag",width:"80"}),e(i,{fixed:"right",label:"操作",width:"80"},{default:n(({row:t,$index:d})=>[e(L,{width:500,title:`是否从设备类型为【${t.device}】的设备【强制下线】当前用户？`,onConfirm:F=>D(t,d)},{reference:n(()=>[e(V,{class:"reset-margin",link:"",type:"primary",size:"default",icon:r(I)(r(P))},{default:n(()=>s[1]||(s[1]=[g(" 下线 ")])),_:1},8,["icon"])]),_:2},1032,["title","onConfirm"])]),_:1})]),_:1},8,["data"])])}}});export{X as _,H as g,W as k};
